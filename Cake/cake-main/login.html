<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Đăng nhập</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/font-awesome.min.css"/>
  <style>
    :root {--orange-50:#fff7f1;--orange-200:#ffd4b0;--orange-500:#ff7a00;--orange-600:#e56700;--orange-700:#c75400;}
    body {background:linear-gradient(145deg,var(--orange-50),#fff); min-height:100vh; font-family:Montserrat,sans-serif;}
    .auth-wrapper {min-height:70vh; display:flex; align-items:center; justify-content:center; padding:30px;}
    .auth-card {max-width:460px; width:100%; border:1px solid var(--orange-200); border-radius:20px; box-shadow:0 8px 24px rgba(0,0,0,.12); background:#fff;}
    .card-header {background:linear-gradient(110deg,var(--orange-500),var(--orange-600)); padding:18px 24px;}
    .card-header h4 {color:#fff; margin:0; font-weight:700;}
    .card-body {padding:28px;}
    .form-label {font-size:.85rem; font-weight:600; margin-bottom:6px;}
    .input-group {border:1px solid var(--orange-200); border-radius:14px; overflow:hidden;}
    .input-group-text {background:#fff; border:none; color:var(--orange-600);}
    .form-control {border:none; padding:12px; font-size:.95rem;}
    .primary-btn {background:var(--orange-500); border:none; border-radius:14px; padding:12px 20px; font-weight:700; color:#fff; width:100%;}
    .primary-btn:hover {background:var(--orange-600);}
    .admin-btn {margin-top:15px; background:#333; border:none; border-radius:14px; padding:12px 20px; font-weight:700; color:#fff; width:100%;}
    .admin-btn:hover {background:#111;}
    #error {font-weight:600;}
  </style>
</head>
<body>
  <main class="auth-wrapper">
    <div class="auth-card">
      <div class="card-header"><h4>Đăng nhập</h4></div>
      <div class="card-body">
        <form id="login-form">
          <div class="mb-3">
            <label class="form-label">Email</label>
            <div class="input-group">
              <span class="input-group-text"><i class="fa fa-envelope"></i></span>
              <input id="email" type="email" class="form-control" placeholder="you@example.com" required/>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Mật khẩu</label>
            <div class="input-group">
              <span class="input-group-text"><i class="fa fa-lock"></i></span>
              <input id="password" type="password" class="form-control" placeholder="••••••••" required/>
            </div>
          </div>
          <button class="btn primary-btn" type="submit">Đăng nhập người dùng</button>
        </form>

        <!-- Nút đăng nhập quản trị viên -->
        <button class="btn admin-btn" id="adminLoginBtn">Đăng nhập với tư cách Quản trị viên</button>

        <p class="mt-3 mb-0 text-center">Chưa có tài khoản? <a href="register.html">Đăng ký</a></p>
        <div id="error" class="text-danger mt-2"></div>
      </div>
    </div>
  </main>

  <script src="js/auth.js"></script>
  <script>
    // Submit login user
    document.getElementById('login-form').addEventListener('submit',(e)=>{
      e.preventDefault();
      const email=document.getElementById('email').value.trim();
      const password=document.getElementById('password').value;
      const error=document.getElementById('error');
      error.textContent='';
      try {
        const user=Auth.login({email,password});
        window.location.href='index.html';
      } catch(err){
        error.textContent=err.message||'Đăng nhập thất bại';
      }
    });

    // Chuyển sang login admin
    document.getElementById('adminLoginBtn').addEventListener('click',()=>{
  window.location.href = "../admin/html/login_admin.html";


    });
  </script>
</body>
</html>
